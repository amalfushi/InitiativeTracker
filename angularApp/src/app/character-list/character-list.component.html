<div class="container">
  <div class="col align-self-center">
    <!-- <header class="header"> -->
      <h1 class="row">Initiative</h1>
      <div class="row ">

        <div class="input-group character-form">
          <div class="input-group-prepend">
            <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="collapse" href="#characterDetails"
              role="button" aria-expanded="false" aria-controls="characterDetails">
              <span class="sr-only">Toggle Dropdown</span>
            </button>
          </div>
          
          <input class="new-character" placeholder="Character Name" autofocus="" [(ngModel)]="newCharacter.name" (keyup.enter)="addCharacter()">
          <div class="input-group-append">
            <button class="btn btn-primary" (click)="addCharacter()">
              Add
            </button>
          </div>
        </div>
      </div>


      <div class="row">
        <div class="collapse " id="characterDetails">
          <input placeholder="Player Name" [(ngModel)]="newCharacter.player_name" (keyup.enter)="addCharacter()">
          <input class="new-character-initiative" placeholder="Initiative" type="number" [(ngModel)]="newCharacter.initiative" (keyup.enter)="addCharacter()"
            min=0 max=100>
        </div>
      </div>
    <!-- </header> -->


    <section class="initiative row" *ngIf="characters.length > 0">
      <!-- list of characters in this initiative -->
      <ul class="row" dnd-sortable-container [sortableData]="characters">
        <li class="character" *ngFor="let character of characters, let i = index" dnd-sortable [sortableIndex]="i" [dragData]="character"
          (onDropSuccess)="onMove($event, i)">
          <span dnd-sortable-handle class="handle">=</span>
          <app-character-card [character]="character" (toDelete)="removeCharacter($event)"></app-character-card>
        </li>
      </ul>
    </section>

    <footer class="footer row" *ngIf="characters.length > 0">
      <span class="character-count">
        <strong>{{characters.length}}</strong> {{characters.length === 1 ? 'character' : 'characters'}}
      </span>
    </footer>
  </div>
</div>
<!-- <ul>
  <li *ngFor="let roll of tests"><p>"{{roll.roll_string}}"  -  <strong>{{roll.total}}</strong>  -  {{roll.dice_rolls}}</p></li>
</ul> -->